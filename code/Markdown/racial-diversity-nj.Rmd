---
title: "Racial Diversity in New Jersey"
categories: New Jersey
date: "2019-04-16"
comments: no
coverCaption: ''
coverImage: jc_v_nyc.JPG
coverMeta: in
coverSize: full
clearReading: yes
keywords: tech
metaAlignment: left
showActions: yes
showDate: yes
showMeta: yes
showPagination: yes
showSocial: yes
showTags: yes
slug: racial-diversity-nj
summary: Which towns are the most and least racially diverse?
tags: race
thumbnailImage: https://res.cloudinary.com/evcloud/image/upload/v1555372288/race2000.jpg
thumbnailImagePosition: left
autoThumbnailImage: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
knitr::opts_knit$set(root.dir = '../../')

options(scipen = 999)

library(dplyr)
library(DT)
library(ggplot2)
library(knitr)
library(plotly)
library(readr)
library(scales)
library(tidyr)
```

```{r import, include=FALSE}
dive_dens = read_csv('./data/output/NJ_diversity_density_unformat.csv')
```

Despite its bland suburban reputation, 
[documented history](https://www.insidernj.com/press-release/njisj-color-law-ending-segregation-advancing-fair-housing-new-jersey/)
of segregation, and currently 68% white[^1] population, New Jersey contains
pockets of vast racial diversity. For instance, Rutgers-Newark is consistently
[ranked](https://www.usnews.com/best-colleges/rankings/national-universities/campus-ethnic-diversity)
\#1 in the nation for its diverse student body. Rutgers-New Brunswick and NJIT
aren't far behind.

But for those of us living here long term, which towns are leading the way in
diversity of their residents?

# Measuring Diversity

First, we need a way to measure racial diversity. The most commonly used 
measurement is the 
[Gini-Simpson Index](https://en.wikipedia.org/wiki/Diversity_index#Gini%E2%80%93Simpson_index),
hereafter referred to as "the Diversity Index" in title-case.

The value of this index for a given municipality can be interpreted as
the probability that two randomly selected residents are of a different race.
For example: Two random residents in Jersey City have a 75% chance of
identifying as different races.

[Disha Raychaudhuri](https://www.nj.com/data/2019/02/the-25-most-racially-diverse-towns-in-nj-ranked.html)
of NJ Advance Media calculated the Diversity Index for every town in NJ, but
only made the results for the 25 most diverse towns available. I was able to
reproduce their results[^2] and provide them in full below. While Raychaudhuri
restricted their analysis to towns with more than 10,000 residents, I include
towns with more than the median population: 8,244.[^3]

The Cornwall Center for Metropolitan Studies made 
[a map](https://cornwall.rutgers.edu/new-jersey-neighborhood-diversity-explorer) 
of the Diversity Index for every Census tract, or "neighborhood", in New Jersey,
using data from 2009 to 2013. There's also the national 
[Racial Dot Map](https://demographics.virginia.edu/DotMap/)
produced by the Weldon Cooper Center for Public Service.

# The Data

I got data on the racial makeup of every municipality in the state from the
American Community Survey (ACS), conducted by the US Census every year.[^4]
This gives me a representative sample of everyone living in every town from 2013
to 2017, though the data are less reliable for places with lower population.

There are 7 racial groups in the ACS: White, Black or African American, American
Indian and Alaska Native, Asian, Native Hawaiian and Other Pacific Islander, Two
or more races, and Some other race. Because "Hispanic" is not a racial group
(according to the Census Bureau's admittedly imperfect definitions),
**I do not use the Hispanic grouping to calculate the Diversity Index.** In 
doing so, I'm not leaving out Hispanic people. If you glance at the 
["HISPANIC OR LATINO ORIGIN BY RACE"](https://factfinder.census.gov/bkmk/table/1.0/en/ACS/17_5YR/B03002)
summary table, you'll notice most people identifying as "some other race" are
Hispanic/Latinx in origin. All other Hispanic/Latinx people identify as White,
Black, Asian, etc, and so they're included in the count of the race with which
they identify.[^5]

# The Results

The table below contains Diversity Index estimates and other indicators for
every municipality in New Jersey with population counts greater than the
median.[^6] To summarize, for most towns, the probability that two residents
are a different race is less than 50%. In the median town, that probability is
about `r median(dive_dens$'Diversity Index') %>% percent(accuracy = 0.1)`.

```{r}
dive_dens %>%
  select(-c(`Population density`, `Pop. density rank`, 
            `Pop. density percentile`)) %>%
  DT::datatable(rownames = NULL) %>%
  DT::formatRound(columns = 3, digits = 0, mark = ',') %>%
  DT::formatPercentage(columns = c(4, 6:ncol(dive_dens)), digits = 1)
```

The vast majority of non-diverse towns are majority white. The chart below (with
the red line marking 50% and the blue line marking the median) shows four towns
with a Diversity Index below 50% and a racial group other than White in the
majority: East Orange, Irvington, Willingboro, and Orange. In fact, there are
very few places in NJ where less than half of residents are white.

```{r, fig.width=10, fig.height=6}
(
  dive_dens %>%
    ggplot() +
    geom_point(
      mapping = aes(x = `Diversity Index`,
                    y = `pct White`,
                    size = `Population, 2013-17`,
                    text = paste('Municipality:', '<b>', Municipality, '</b>',
                                 '<br>',
                                 'County:', County,
                                 '<br>',
                                 'Diversity Index:', percent(`Diversity Index`,
                                                             accuracy = 1),
                                 '<br>',
                                 '% White', percent(`pct White`, 
                                                    accuracy = 1),
                                 '<br>',
                                 '% Black', percent(`pct Black`, 
                                                    accuracy = 1),
                                 '<br>',
                                 '% Asian', percent(`pct Asian`, 
                                                    accuracy = 1),                               
                                 '<br>',
                                 '% Other', percent(`pct Other race`, 
                                                    accuracy = 1))
      )
    ) +
    geom_vline(mapping = aes(xintercept = 0.5),
               color = 'red', linetype = 'dashed', size = 0.5) +
    geom_vline(mapping = aes(xintercept = median(`Diversity Index`)),
               color = 'blue', linetype = 'dashed', size = 0.1) +
    scale_x_continuous(labels = scales::percent_format(accuracy = 1)) +
    scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
    xlab('Diversity Index') +
    ylab('White') +
    theme_bw() 
) %>%
  ggplotly(tooltip = 'text')
```

Finally, the charts below show the racial makeup of the 30 most diverse and 30
least diverse places.

```{r, fig.width=10}
dive_dens %>%
  head(n = 30) %>%
  gather(key = 'Race', value = 'pct', 
         `pct Asian`:`pct Two or more`) %>%
  mutate(Race = gsub('pct', '', Race)) %>%
  ggplot() +
  geom_bar(mapping = aes(x = reorder(Municipality, 
                                     `Diversity Index`),
                         y = pct,
                         fill = Race),
           stat = 'identity') +
  geom_text(mapping = aes(x = reorder(Municipality, 
                                      `Diversity Index`), 
                          y = -0.05,
                          label = `Diversity Index rank`)) +
  scale_y_continuous(labels = percent_format()) +
  labs(x = '', y = '', fill = '') +
  coord_flip() +
  theme_minimal() +
  scale_fill_viridis_d(option = 'C')

dive_dens %>%
  tail(n = 30) %>%
  gather(key = 'Race', value = 'pct', 
         `pct Asian`:`pct Two or more`) %>%
  mutate(Race = gsub('pct', '', Race)) %>%
  ggplot() +
  geom_bar(mapping = aes(x = reorder(Municipality, 
                                     `Diversity Index`),
                         y = pct,
                         fill = Race),
           stat = 'identity') +
  geom_text(mapping = aes(x = reorder(Municipality, 
                                      `Diversity Index`), 
                          y = -0.05,
                          label = `Diversity Index rank`)) +
  scale_y_continuous(labels = percent_format()) +
  labs(x = '', y = '', fill = '') +
  coord_flip() +
  theme_minimal() +
  scale_fill_viridis_d(option = 'C')
```

# Attributions

The image appering in the thumbnail for this post on the home page is by
[Eric Fischer](https://www.flickr.com/photos/walkingsf/5010396867/in/photolist-qzM8zR-mt34zn-8CKAqT-5hJgbT-9tiLT4-5VUVeU-8aiFQ2-bV3kEF-QdchHW-Gm1KvC-utLBHK-rVAz6-imyrbY-ppAPQe-cvQGpf-4Z83nn-oRHth4-ecmQAZ-5ZsqeC-7rYqCC-5amLek-4CiNj-5RTTQj-5ZocyK-5tThZy-egU1y1-dpLNMR-8TcAJs-ymkJBP-ovCXdx-bV3kwH-fgjNcs-bRDZqp-c2zgU5-bV3ktZ-4ZYayq-t2Fq3-4ZTWAD-4ZU7Bi-aeuMoJ-qikdfb-FVCUp9-Ljxjrn-mt4Dqs-jNfsW-oPnxH7-uXTeQL), 
licensed under 
[CC BY-SA 2.0](https://creativecommons.org/licenses/by-sa/2.0/).


[^1]: That 68% includes people identifying as Hispanic/Latinx in ancestry and
white in race. 56% of NJ is white and *not* Hispanic/Latinx. Source: 
[American Community Survey (2013-2017)](https://factfinder.census.gov/bkmk/table/1.0/en/ACS/17_5YR/DP05/0400000US34).

[^2]: Off by a few hundredths of a percent for each town.

[^3]: All population estimates in this post are calculated using the American
Community Survey 2013-2017 Public Use Microsample, which means these are not
official annual population estimates like 
[these](https://www.census.gov/data/tables/2017/demo/popest/total-cities-and-towns.html) 
produced by the Census Bureau.

[^4]: Specifically, the summary tables built with the 5-year 2013-17 Public Use 
Micro Sample, accessible via 
[American FactFinder](https://factfinder.census.gov/faces/nav/jsf/pages/index.xhtml).

[^5]: The Census Bureau is trying to improve this situation for the upcoming 
2020 Census, so that people with 
[Middle Eastern](https://fivethirtyeight.com/features/the-u-s-census-is-trying-to-get-a-more-accurate-count-of-arab-americans/) or
[Hispanic/Latinx](https://fivethirtyeight.com/features/the-census-is-still-trying-to-find-the-best-way-to-track-race-in-america/) 
ancestry can be better identified.

[^6]: I include "percent Hispanic" and "percent Non-Hispanic" in the table
because it's important info, though I don't use those variables to calculate the
Diversity Index. Maybe I'll try that later and see if it changes the results
much.
